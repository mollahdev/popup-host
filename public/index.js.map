{"version":3,"file":"index.js","mappings":"MAOC,SAASA,KAEQ,CAEVC,OACI,MAAMC,EAAOC,KACbC,OAAOC,SAASC,KAAKC,UAAUC,IAAI,cACnCH,SAASI,KAAKC,mBAAmB,YAAa,+mBAQ9CC,MAAM,6DACLC,MAAMC,GAAYA,EAASC,SAC3BF,MAAMC,IACH,MAAM,KAAEE,EAAI,IAAEC,GAAQH,EAASP,KAC3BS,GAAQC,IACRd,EAAKa,KAAOE,KAAKC,MAAMH,GACvBb,EAAKc,IAAMC,KAAKC,MAAMF,GACtBd,EAAKiB,cAKjBA,SAEId,SAASI,KAAKC,mBAAmB,YAAa,yBAAyBP,KAAKa,eAC5EX,SAASC,KAAKI,mBAAmB,YAAaP,KAAKY,MAEnDK,YAAW,KACPhB,OAAOC,SAASC,KAAKC,UAAUC,IAAI,cACnC,MAAMa,EAAgBhB,SAASiB,iBAAiB,uBAC1CC,EAAgBlB,SAASiB,iBAAiB,eAC1CE,EAAgBnB,SAASoB,cAAc,gBAEzCJ,GAAWlB,KAAKuB,mBAAoBL,GACpCE,GAAcC,GAAarB,KAAKwB,oBAAoBJ,EAAWC,KACpE,MAIPG,oBAAqBC,EAAMJ,GACvBI,EAAKC,SAASC,IACVA,EAAIC,iBAAiB,SAAS,KAC1B,MAAMC,EAAQR,EAAWQ,MACzBC,MAAMD,UAKlBN,mBAAoBE,GAChBA,EAAKC,SAASC,IACVA,EAAIC,iBAAiB,SAAS,IAAM3B,OAAOC,SAASC,KAAKC,UAAU2B,OAAO,sBAKhFjC,OAGkB,YAAxBI,SAAS8B,WACTnC,IAEAK,SAAS0B,iBAAiB,mBAAoB/B,I","sources":["webpack://popup-host/./src/popup.js"],"sourcesContent":["/**\r\n * \r\n * \r\n * file: popup.js\r\n * @description this file is responsible for managing popup on client site\r\n * \r\n */ \r\n function domReady() {\r\n   \r\n    const popup = {\r\n        \r\n        init() {\r\n            const self = this;\r\n            window.document.body.classList.add('popup-init');\r\n            document.head.insertAdjacentHTML(\"beforeend\", `\r\n                <link href=\"https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp\" rel=\"stylesheet\">\r\n                <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n                <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n                <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap\">\r\n                <link rel=\"stylesheet\" href=\"https://bookerkit.com/popup-host/public/popup.css\">\r\n            `);\r\n\r\n            fetch('https://bookerkit.com/popup-host/' + 'storage/index.php?public')\r\n            .then( response => response.json())\r\n            .then( response => {\r\n                const { html, css } = response.body\r\n                if( html && css ) {\r\n                    self.html = JSON.parse(html);\r\n                    self.css = JSON.parse(css);\r\n                    self.insert();\r\n                }\r\n            })\r\n        },\r\n        \r\n        insert() {\r\n            \r\n            document.head.insertAdjacentHTML(\"beforeend\", `<style id=\"popup-css\">${this.css}</style>`)\r\n            document.body.insertAdjacentHTML(\"beforeend\", this.html)\r\n            \r\n            setTimeout(()=>{\r\n                window.document.body.classList.add('show-popup');\r\n                const closeBtn      = document.querySelectorAll('.popup-close-button')\r\n                const submitBtn     = document.querySelectorAll('.submit-btn');\r\n                const emailField    = document.querySelector('.email-field');\r\n\r\n                if( closeBtn ) this.closeButtonHandler( closeBtn  );\r\n                if( submitBtn &&  emailField ) this.submitButtonHandler(submitBtn, emailField)\r\n            }, 1000 )\r\n    \r\n        },\r\n\r\n        submitButtonHandler( btns, emailField ) {\r\n            btns.forEach( btn => {\r\n                btn.addEventListener('click', () => {\r\n                    const value = emailField.value\r\n                    alert(value)\r\n                })\r\n            })            \r\n        },\r\n\r\n        closeButtonHandler( btns ) {\r\n            btns.forEach( btn => {\r\n                btn.addEventListener('click', () => window.document.body.classList.remove('show-popup'))\r\n            })\r\n        }\r\n    }\r\n\r\n    popup.init()\r\n}\r\n\r\nif( document.readyState !== 'loading' ) {\r\n    domReady()\r\n} else {\r\n    document.addEventListener('DOMContentLoaded', domReady );\r\n}"],"names":["domReady","init","self","this","window","document","body","classList","add","head","insertAdjacentHTML","fetch","then","response","json","html","css","JSON","parse","insert","setTimeout","closeBtn","querySelectorAll","submitBtn","emailField","querySelector","closeButtonHandler","submitButtonHandler","btns","forEach","btn","addEventListener","value","alert","remove","readyState"],"sourceRoot":""}