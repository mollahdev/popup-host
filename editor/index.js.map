{"version":3,"file":"index.js","mappings":"mBAEe,MAAMA,UCFN,MACXC,OAAS,GACTC,IAAM,GAENC,cACI,MAAMC,EAAOC,KACbA,KAAKC,iBAAiBC,MAAM,CAExBC,WAAY,SAAUC,EAAIC,GAElBA,EAAMC,WACND,EAAME,OAAS,UACfR,EAAKF,KAAOQ,EAAME,OAASF,EAAMC,WAAa,QAGlDD,EAAMG,aAAeH,EAAMG,eAAgB,EAC3CT,EAAKH,OAAOQ,GAAMC,ODZ9BP,cAEI,OADAW,QACO,CACHC,SAAUV,KAAKJ,OACfC,IAAKG,KAAKH,KAKlBI,mBAEID,KAAKG,WAAW,kBAAmB,CAC/BQ,MAAO,yBACPC,KAAM,QACNC,QAAS,YAGbb,KAAKG,WAAW,sBAAuB,CACnCQ,MAAO,eACPC,KAAM,SACNC,QAAS,GACTC,KAAM,OE2ClB,IAjEA,cCHe,MACXC,gBAAkB,CACdC,WAAY,EACZC,kBAAkB,EAClBC,mBAAoB,IAQxBC,cACI,MAAMC,EAAM,IAAIC,iBAAiB,gCAAiCrB,KAAKe,iBACvEf,KAAKe,gBAAgBK,GAAKA,EAS9BE,oBAAqB1B,GACjB,MAAM,SAAEc,EAAQ,IAAEb,GAAQD,EAGpB2B,EAAkBC,OAAOC,KAAKf,GAAUgB,KAAKC,IAC/C,MAAMC,EAAOlB,EAASiB,GACtB,MAAO,2FAEyBC,EAAKpB,kBAAmBoB,EAAKjB,kFACRiB,EAAKhB,4HAQ9DiB,OAAO,sBAAsBC,KAAM,kEAEzBP,EAAgBQ,KAAK,qCAUnCC,qBAiHIH,OAAO,sBAAsBC,KAAM,wyIDhKvChC,cACIW,QACAwB,OAAOC,iBAAiB,mBAAoBlC,KAAKmC,KAAKC,KAAKpC,OAU/DqC,iBACI,MAAMzC,EAAS,IAAID,EACnBK,KAAKsB,oBAAqB1B,GAU9B0C,eACItC,KAAKgC,qBASTG,OACI,MAAMpC,EAAOC,KACbD,EAAKoB,cACLpB,EAAKuC,eAGLT,OAAOU,UAAUC,GAAG,QAAS,+BAA+B,WAKxD,OADaxC,KAAKyC,QAAQ7B,MAEtB,IAAK,kBACLb,EAAKsC,eAAenC,MAAMH,GAC1B,MAEA,IAAK,cACLA,EAAKuC,aAAapC,MAAMH,GAK5BA,EAAKgB,gBAAgBK,GAAGsB,e","sources":["webpack://popup-host/./src/inc/global-controls.js","webpack://popup-host/./src/inc/base.js","webpack://popup-host/./src/customizer.js","webpack://popup-host/./src/inc/sidebar.js"],"sourcesContent":["import ControlBase from \"./base\";\r\n\r\nexport default class GlobalControls extends ControlBase {\r\n\r\n    constructor() {\r\n        super();\r\n        return {\r\n            controls: this.config,\r\n            css: this.css\r\n        }\r\n    }\r\n\r\n\r\n    registerControls() {\r\n        \r\n        this.addControl('global_popup_bg', {\r\n            label: 'Popup Background Color',\r\n            type: 'color',\r\n            default: '#e07a5f',\r\n        })\r\n        \r\n        this.addControl('global_popup_radius', {\r\n            label: 'Popup Radius',\r\n            type: 'slider',\r\n            default: 50,\r\n            unit: '%'\r\n        })\r\n\r\n    }\r\n    \r\n\r\n}\r\n\r\n","export default class ControlBase {\r\n    config = {}\r\n    css = ''\r\n    \r\n    constructor() {\r\n        const self = this;\r\n        this.registerControls.apply({\r\n\r\n            addControl: function( id, props ) {\r\n                \r\n                if( props.selector ) {\r\n                    props.prefix = '#popup ';\r\n                    self.css += props.prefix + props.selector() + '\\n\\n';\r\n                }\r\n\r\n                props.isLabelBlock = props.isLabelBlock || false;\r\n                self.config[id] = props;\r\n            }\r\n\r\n        })\r\n    }\r\n}","import Sidebar from \"./inc/sidebar\";\r\nimport GlobalControls from \"./inc/global-controls\";\r\n\r\nclass Customizer extends Sidebar {\r\n\r\n    constructor() {\r\n        super()\r\n        window.addEventListener('DOMContentLoaded', this.init.bind(this) );\r\n    }\r\n\r\n    /**\r\n     * \r\n     * \r\n     * Create controls for sidebar\r\n     * @class GlobalControls returns the global controls settings\r\n     * \r\n     */ \r\n    createControls() {\r\n        const config = new GlobalControls();\r\n        this.createControlMarkup( config )\r\n    }\r\n\r\n    /**\r\n     * \r\n     * \r\n     * Create Widgets Markup for sidebar \r\n     * \r\n     */ \r\n\r\n    createWidget() {\r\n        this.createWidgetMarkup()\r\n    }\r\n    \r\n    /**\r\n     * \r\n     * \r\n     * Initalize customizer script\r\n     * \r\n     */ \r\n    init() {\r\n        const self = this;\r\n        self.sidebarInit();\r\n        self.createWidget();\r\n        \r\n        // change sidebar markup based on what settings user want \r\n        jQuery(document).on('click', '.page-settings, .all-widget', function() {\r\n\r\n           \r\n\r\n            const type = this.dataset.type;\r\n            switch( type ) {\r\n                case 'global-settings':\r\n                self.createControls.apply(self);\r\n                break;\r\n                \r\n                case 'all-widgets':\r\n                self.createWidget.apply(self);\r\n                break;\r\n            }\r\n\r\n            // update scrollbar \r\n            self.sidebarSettings.ps.update()\r\n\r\n        })\r\n    }\r\n\r\n}\r\n\r\nnew Customizer();","export default class Sidebar {\r\n    sidebarSettings = {\r\n        wheelSpeed: 2,\r\n        wheelPropagation: true,\r\n        minScrollbarLength: 20\r\n    }\r\n    \r\n    /**\r\n     * \r\n     * \r\n     * attach perfect scrollbar plugin into sidebar \r\n     */ \r\n    sidebarInit() {\r\n        const ps  = new PerfectScrollbar('.customizer__sidebar--content', this.sidebarSettings );\r\n        this.sidebarSettings.ps = ps;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * Create markup for controls \r\n     * \r\n     */ \r\n\r\n    createControlMarkup( config ) {\r\n        const { controls, css } = config;\r\n\r\n        // generate control markup\r\n        const componentMarkup = Object.keys(controls).map( key => {\r\n            const attr = controls[key];\r\n            return `\r\n                <div class=\"control-item\">\r\n                    <label data-is-block=\"${attr.isLabelBlock}\"> ${ attr.label } </label>\r\n                    <div class=\"control-item--field field-type-${attr.type}\">\r\n                        <input type=\"text\"/>\r\n                    </div>\r\n                </div>\r\n            `\r\n        })\r\n\r\n        // render the markup into the sidebar\r\n        jQuery('.sidebar-container').html( `\r\n            <div class=\"control-container\">\r\n                ${componentMarkup.join('')}\r\n            </div>\r\n        ` );\r\n    }\r\n\r\n    /**\r\n     * \r\n     * Create widget markup \r\n     * \r\n     */ \r\n    createWidgetMarkup( ) {\r\n        const componentMarkup = `\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"popup-element\">\r\n                <div class=\"popup-widget\" draggable=\"true\">\r\n                    <i class=\"popup-widgets\"></i>\r\n                    <label>Text</label>\r\n                </div>\r\n            </div>\r\n        `\r\n\r\n        // render the markup into the sidebar\r\n        jQuery('.sidebar-container').html( `\r\n            <div class=\"widget-container\">\r\n                ${componentMarkup}\r\n            </div>\r\n        ` );\r\n\r\n    }\r\n\r\n\r\n}"],"names":["GlobalControls","config","css","constructor","self","this","registerControls","apply","addControl","id","props","selector","prefix","isLabelBlock","super","controls","label","type","default","unit","sidebarSettings","wheelSpeed","wheelPropagation","minScrollbarLength","sidebarInit","ps","PerfectScrollbar","createControlMarkup","componentMarkup","Object","keys","map","key","attr","jQuery","html","join","createWidgetMarkup","window","addEventListener","init","bind","createControls","createWidget","document","on","dataset","update"],"sourceRoot":""}